!function(e,t){"use strict";e.scope||(e.scope={});var r=function(r){function n(r){var n=[];return Object.defineProperty(n,"__repeatId",{value:a,writable:!0,enumerable:!1,configurable:!0}),n.splice=function(){var r;if("string"==typeof arguments[0]){if(r=this.indexOf(arguments[0]),-1===r)return[]}else r=arguments[0];var n=arguments[1],i=Array.prototype.slice.call(arguments),a=i.slice(2);r>this.length&&(r=this.length),0>r&&(r=this.length-Math.abs(r)),n||0===n||(n=this.length-r),n>this.length-r&&(n=this.length-r);for(var s=a.length-n,p=0;n>p;p++)this.__take.apply(e(".jq-repeat-"+this.__repeatId+'[jq-repeat-index="'+(p+r)+'"]'));if(e(".jq-repeat-"+this.__repeatId+'[jq-repeat-index!="holder"]').each(function(){var t=Number(e(this).attr("jq-repeat-index"));t>=r&&e(this).attr("jq-repeat-index",t+s)}),a.length>0)for(var h=0;h<a.length;h++){var u=h+r,o=e(document.getElementById(this.__repeatId+"Template").outerHTML),l=t.render(o.html(),a[h]);l=e(l).addClass("jq-repeat-"+this.__repeatId).attr("jq-repeat-index",u),0===u?e(".jq-repeat-"+this.__repeatId+'[jq-repeat-index="holder"]').after(l):e(".jq-repeat-"+this.__repeatId+'[jq-repeat-index="'+(u-1)+'"]').after(l),this.__put.apply(l)}return Array.prototype.splice.apply(this,arguments)},n.push=function(){for(var e=this.length||0,t=0;t<arguments.length;++t)this.splice(e+t,0,arguments[t]);return this.length},n.pop=function(){return this.splice(-1,1)[0]},n.reverse=function(){var e=this.splice(0);Array.prototype.reverse.apply(e);for(var t=0;t<e.length;t++)this.push(e[t]);return this},n.shift=function(){return this.splice(0,1)[0]},n.loop=function(){var e=this[0];return this.splice(0,1),this.push(e),e},n.loopUp=function(){var e=this[this.length-1];return this.splice(-1,1),this.splice(0,0,e),e},n.indexOf=function(e,t){"string"!=typeof t&&(t=arguments[0],e=this.__index);for(var r=0;r<this.length;++r)if(this[r][e]===t)return r;return-1},n.update=function(t,r,n){"string"!=typeof r&&(n=arguments[1],r=arguments[0],t=this.__index);var i=this.indexOf(t,r);if(-1===i)return[];var a=e.extend(!0,{},this[i],n);return this.splice(i,1,a)[0]},n.__put=function(){this.show()},n.__take=function(){this.remove()},r?(e.each(r,function(e,t){var r=typeof t;"object"===r?n.push(t):"string"===r?Object.defineProperty(n,"__index",{value:t,writable:!0,enumerable:!1,configurable:!0}):"function"===r&&Object.defineProperty(n,t.name,{value:t,writable:!0,enumerable:!1,configurable:!0})}),n):n}var i=e(r),a=i.attr("jq-repeat"),s=a+"Template",p=e("#"+s).html();i.removeAttr("jq-repeat"),i.wrap('<script type="x-tmpl-mustache" id="'+s+'" class="jq-repeat-'+a+' " jq-repeat-index="holder"></script>'),t.parse(p),e.scope[a]=n(e.scope[a])};e(document).ready(function(){e("[jq-repeat]").each(function(e,t){r(t)}),e(document).on("DOMNodeInserted",function(t){if(e(t.target).is("[jq-repeat]"))r(t.target);else{var n=e(t.target).find("[jq-repeat]");n.each(function(e,t){r(t)})}})})}(jQuery,Mustache);